"use strict";(self.webpackChunkbg_kala_school_web_app_backend=self.webpackChunkbg_kala_school_web_app_backend||[]).push([[3677],{14928:(M,i,n)=>{n.r(i),n.d(i,{default:()=>P});var e=n(67294),s=n(95489),d=n(15482),u=n(97132),m=n(87751),t=n(28702),p=n(23724);const E=async()=>{const{get:l}=(0,s.getFetchClient)(),{data:a}=await l("/admin/plugins");return a},h=l=>{const a=(0,s.useNotification)();return(0,p.useQuery)("list-enabled-plugins",()=>E(),{onSuccess(){l&&l()},onError(){a({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}})},f=()=>{const{formatMessage:l}=(0,u.useIntl)(),{notifyStatus:a}=(0,t.useNotifyAT)();(0,s.useFocusWhenNavigate)();const r=l({id:"global.plugins",defaultMessage:"Plugins"}),y=()=>{a(l({id:"app.utils.notify.data-loaded",defaultMessage:"The {target} has loaded"},{target:r}))},{status:g,data:c}=h(y);return g!=="success"&&g!=="error"?e.createElement(t.Layout,null,e.createElement(t.Main,{"aria-busy":!0},e.createElement(s.LoadingIndicatorPage,null))):e.createElement(t.Layout,null,e.createElement(t.Main,null,e.createElement(t.HeaderLayout,{title:r,subtitle:l({id:"app.components.ListPluginsPage.description",defaultMessage:"List of the installed plugins in the project."})}),e.createElement(t.ContentLayout,null,e.createElement(t.Table,{colCount:2,rowCount:c?.plugins?.length??0+1},e.createElement(t.Thead,null,e.createElement(t.Tr,null,e.createElement(t.Th,null,e.createElement(t.Typography,{variant:"sigma",textColor:"neutral600"},l({id:"global.name",defaultMessage:"Name"}))),e.createElement(t.Th,null,e.createElement(t.Typography,{variant:"sigma",textColor:"neutral600"},l({id:"global.description",defaultMessage:"description"}))))),e.createElement(t.Tbody,null,c.plugins.map(({name:o,displayName:b,description:T})=>e.createElement(t.Tr,{key:o},e.createElement(t.Td,null,e.createElement(t.Typography,{textColor:"neutral800",variant:"omega",fontWeight:"bold"},l({id:`global.plugins.${o}`,defaultMessage:b}))),e.createElement(t.Td,null,e.createElement(t.Typography,{textColor:"neutral800"},l({id:`global.plugins.${o}.description`,defaultMessage:T}))))))))))},P=()=>{const{formatMessage:l}=(0,u.useIntl)(),a=l({id:"global.plugins",defaultMessage:"Plugins"});return e.createElement(s.CheckPagePermissions,{permissions:m.Z.marketplace.main},e.createElement(d.Helmet,{title:a}),e.createElement(f,null))}}}]);
